<!DOCTYPE html>
<html lang="en">
<head>
  <title>Analysis Dashboard - Sibyl</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="/css/analysis.css">
  <script src="/js/jquery.min.js"></script>
</head>
<body>
  <div id="wrapper">
    <div id="wrapper--child-container">
      <div id="analysis--header-container">
        <h1>Sibyl Analysis</h1>
        <div class="notice-group">
          <span class="heavy">Hey, there!</span>
          <span class="regular">We know you're excited, but in order for us to analyze a form, it should come from us.</span>
          <span class="regular">If you haven't yet, create a form using our builder first.</span>
          <button id="open--formBuilder" class="analysis--buttons-normal">Open Form Builder</button>
        </div>
      </div>
      <div id="analysis--prepend">
        <h2>Form Finder</h2>
        <form id="form-findFormId" name="form-findFormId" action="https://marknolledo.pythonanywhere.com/sibyl/prepare" method="POST">
          <input type="text" id="text--formId" name="text--formId" required>
          <input type="submit" id="submit--findFormId" name="submit--findFormId" value="Search" class="analysis--buttons-normal">
        </form>
        <div class="notice-group">
          <span class="regular">Forgot your ID? Try looking for the HTML file the form builder made for you before; the number is the form ID.</span>
        </div>
      </div>

      <!-- HIDDEN DIVS -->
      <div id="form-analysis-parent-container">
        <div id="analysis--append">
          <h2>Form Statistics</h2>
          <!-- STATISTICS HEADER -->
          <div id="analysis--stat-header-container">
            <table id="analysis--stat-header-basics">
              <tr id="statistics--table-headers">
                <td>Form ID</td>
                <td>Response Count</td>
                <td>Response Fields</td>
                <td>Filter</td>
                <!-- <td>View</td> -->
              </tr>

              <tr id="statistics--value-containers">
                <td id="statistics--table-id">0</td>
                <td id="statistics--response-counter">0</td>
                <td id="statistics--column-counter">0</td>
                <td><select id="recent-entries--data-switch" name="recent-entries--data-switch"></select></td>
                <!-- <td>
                  <select id="recent-entries--count-switch" name="recent-entries--count-switch">
                  </select>
                </td> -->
              </tr>

              <tr id="statistics--download-data">
                <td id="csv-downloader-button" colspan=4><button id="download-csv-data" class="analysis--buttons-normal">Download CSV file</button></td>
              </tr>
            </table>
          </div>

          <!-- ENTRIES -->
          <div id="analysis--recent-entries-container">
            <!-- RESPONSE FULL VIEW -->
            <div id="recents--full-container">
              <div id="recents--assist-container" class="recents--child-container">
              </div>

              <!-- DISTRIBUTION VIEW -->
              <div id="distribution--parent-container">
              </div>
            </div>

            <!-- RESPONSE FILTERED VIEW -->
            <div id="recents--filtered-container">
              <div id="analysisChart--parent-container">
                <canvas id="analysisChart"></canvas>
              </div>
              <table id="analysis--recent-entries"></table>
            </div>

            <!-- SENTIMENT CLASSIFIER -->
            <div id="recent-entries--classifier-parent-container">
              <h2>Sentiment Classifier</h2>
              <div class="warn-set">
                <span>While this sounds awesome, make sure that the chosen entry set could possibly be analyzed for sentiment, or this will return a really irregular result. You have been warned.</span>
              </div>
              <button id="classifier-trigger">Perform Sentiment Analysis on Current Entries</button>
              <div id="classifier--results-parent-container">
                <h2>Summary</h2>
                <!-- CLASSIFICATION RESULTS SUMMARY -->
                <table id="classifier--results-container">
                  <tr class="classifier--results-headers">
                    <td>Classification</td>
                    <td colspan='2'>Polarity</td>
                  </tr>

                  <tr>
                    <td id="classifier--classification">??</td>
                    <td colspan='2'><span id="positive">??</span><span id="negative">??</span></td>
                  </tr>

                  <tr class="classifier--results-headers">
                    <td>Entries Classified</td>
                    <td>Positives</td>
                    <td>Negatives</td>
                  </tr>

                  <tr id="classifier--statistics-container">
                    <td id="classifier--entry-count">0</td>
                    <td id="classifier--pos-count">0</td>
                    <td id="classifier--neg-count">0</td>
                  </tr>
                </table>

                <!-- LEXICON DISTRIBUTION -->
                <h2>Lexicon Distribution</h2>
                <!-- Positive -->
                <div id="lex-distro-positives">
                  <h2 class="subdivision-headers">Positives</h2>
                  <table id="classifier--lexicon-distribution-positive" class="display-table">
                  </table>
                </div>

                <!-- Negative -->
                <div id="lex-distro-negatives">
                  <h2 class="subdivision-headers">Negatives</h2>
                  <table id="classifier--lexicon-distribution-negative" class="display-table">
                  </table>
                </div>

                <!-- ENTRY CLASSIFICATION -->
                <div id="entry-classification">
                  <h2 class="subdivision-headers">Entry Classification</h2>
                  <table id="classifier--entry-classification" class="display-table">
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ASYNC SNACKBAR -->
  <div id="async" class="snackbar-normal">
    <div id="async--child-container">
      <span id="async-message" class="snackbar--message">Process is running. Please wait.</span>
    </div>
  </div>

  <!-- NOTIF SNACKBAR -->
  <div id="notification" class="snackbar-normal">
    <div id="notif--child-container">
      <span id="notif-message" class="snackbar--message">??</span>
    </div>
  </div>

  <!-- PAGE BACKGROUND -->
  <div id="page--splitter-background"></div>

  <!-- SCRIM -->
  <div id="scrim"></div>

  <!-- ONBOARD SCRIPTS -->
  <script src="/js/behaviors.js" defer></script>

  <!-- CHART.JS CDN -->
  <script src="/js/chartJS.js"></script>
</body>
</html>
